TWB_MSK_Dissolution_DecisionCategory = {

	# // INDEX // #
	# /// Unification /// #
	# /// Dealing with Sectors /// #
	# /// Inner-Sector Actions /// #

	# /// Unification /// #
	MSK_Dissolution_Decision_Unify = {
		icon = GFX_decision_diplo_moskowien
		available = {
			or = {
				and = {
					MSK_Dissolution_ScriptedTrigger_WonDissolution = yes
					or = {
						NOT = { tag = NVG }
						has_completed_focus = NVG_nowhere_to_retreat_novgorod_is_behind_us
					}
				}
				has_country_flag = twb_debug
			}
		}
		ai_will_do = {
			base = 100
		}
		fire_only_once = yes
		complete_effect = {
			MSK_Dissolution_Win = yes
			if = {
				limit = { tag = NVG }
				set_politics = { ruling_party = paternalism }

				set_variable = { communist_pop = party_popularity@communist }
				set_variable = { fascism_pop = party_popularity@fascism }
				set_variable = { despotism_pop = party_popularity@despotism }

				multiply_variable = { communist_pop = 100 }
				multiply_variable = { fascism_pop = 100 }
				multiply_variable = { despotism_pop = 100 }

				set_variable = { sum_pop = communist_pop }
				add_to_variable = { sum_pop = fascism_pop }
				add_to_variable = { sum_pop = despotism_pop }

				add_to_variable = { sum_pop = -100 }
				multiply_variable = { sum_pop = -1 }
				add_to_variable = { despotism_pop = sum_pop }


				log = "com:[?communist_pop] - fasc: [?fascism_pop] - desp: [?despotism_pop] - sum: [?sum_pop]"

				set_popularities = {
					communist = var:communist_pop
					fascism = var:fascism_pop
					paternalism = var:despotism_pop
				}
			}
		}
	}

	# /// Dealing with Sectors /// #
	MSK_Dissolution_Decision_DealWithSector0 = {
		icon = GFX_decision_generic_assault
		visible = {
			MSK_Dissolution_ScriptedTrigger_CanSeeSectorDecisions = yes
			NOT = {
				MSK_Dissolution_ScriptedTrigger_IsInSector0 = yes
				MSK_Dissolution_ScriptedTrigger_Sector0Empty = yes
				MSK_Dissolution_ScriptedTrigger_AtWarWithSector0 = yes
			}
		}
		available = {
			OR = {
				AND = {
					any_neighbor_country = { MSK_Dissolution_ScriptedTrigger_IsInSector0 = yes }
					MSK_Dissolution_ScriptedTrigger_WonInOwnSector = yes
					has_war = no
				}
				check_variable = { global.MSK_Dissolution_Tags^num < 6 }
			}
			NOT = {
				has_decision = MSK_Dissolution_Decision_DealWithSector1
				has_decision = MSK_Dissolution_Decision_DealWithSector2
				has_decision = MSK_Dissolution_Decision_DealWithSector3
				has_decision = MSK_Dissolution_Decision_DealWithSector4
				has_decision = MSK_Dissolution_Decision_DealWithSector5
			}
		}
		ai_will_do = {
			base = 100
			modifier = {
				add = 100
				ROOT = {
					OR = {
						MSK_Dissolution_ScriptedTrigger_IsInSector2 = yes
						MSK_Dissolution_ScriptedTrigger_IsInSector3 = yes
					}
				}
			}
		}
		fire_only_once = yes
		
		complete_effect = {
			NTI = { MSK_Country_Sector_Info = yes }
			hidden_effect = {
			set_temp_variable = { v = NTI } 
			MSK_Dissolution_DealWithSector = yes
			}
		}
	}
	MSK_Dissolution_Decision_DealWithSector1 = {
		icon = GFX_decision_generic_assault
		visible = {
			MSK_Dissolution_ScriptedTrigger_CanSeeSectorDecisions = yes
			NOT = {
				MSK_Dissolution_ScriptedTrigger_IsInSector1 = yes
				MSK_Dissolution_ScriptedTrigger_Sector1Empty = yes
				MSK_Dissolution_ScriptedTrigger_AtWarWithSector1 = yes
			}
		}
		available = {
			OR = {
				AND = {
					any_neighbor_country = { MSK_Dissolution_ScriptedTrigger_IsInSector1 = yes }
					MSK_Dissolution_ScriptedTrigger_WonInOwnSector = yes
					has_war = no
				}
				check_variable = { global.MSK_Dissolution_Tags^num < 6 }
			}
			NOT = {
				has_decision = MSK_Dissolution_Decision_DealWithSector0
				has_decision = MSK_Dissolution_Decision_DealWithSector2
				has_decision = MSK_Dissolution_Decision_DealWithSector3
				has_decision = MSK_Dissolution_Decision_DealWithSector4
				has_decision = MSK_Dissolution_Decision_DealWithSector5
			}
		}
		ai_will_do = {
			base = 100
		}
		fire_only_once = yes
		
		complete_effect = {
			for_each_loop = {
				array = global.MSK_Dissolution_Tags_Sector_1
				MSK_Dissolution_DealWithSector = yes
			}
		}
	}
	MSK_Dissolution_Decision_DealWithSector2 = {
		icon = GFX_decision_generic_assault
		visible = {
			MSK_Dissolution_ScriptedTrigger_CanSeeSectorDecisions = yes
			NOT = {
				MSK_Dissolution_ScriptedTrigger_IsInSector2 = yes
				MSK_Dissolution_ScriptedTrigger_Sector2Empty = yes
				MSK_Dissolution_ScriptedTrigger_AtWarWithSector2 = yes
			}
		}
		available = {
			OR = {
				AND = {
					any_neighbor_country = { MSK_Dissolution_ScriptedTrigger_IsInSector2 = yes }
					MSK_Dissolution_ScriptedTrigger_WonInOwnSector = yes
					has_war = no
				}
				check_variable = { global.MSK_Dissolution_Tags^num < 6 }
			}
			NOT = {
				has_decision = MSK_Dissolution_Decision_DealWithSector0
				has_decision = MSK_Dissolution_Decision_DealWithSector1
				has_decision = MSK_Dissolution_Decision_DealWithSector3
				has_decision = MSK_Dissolution_Decision_DealWithSector4
				has_decision = MSK_Dissolution_Decision_DealWithSector5
			}
		}
		ai_will_do = {
			base = 100
		}
		fire_only_once = yes
		
		complete_effect = {
			for_each_loop = {
				array = global.MSK_Dissolution_Tags_Sector_2
				MSK_Dissolution_DealWithSector = yes
			}
		}
	}
	MSK_Dissolution_Decision_DealWithSector3 = {
		icon = GFX_decision_generic_assault
		visible = {
			MSK_Dissolution_ScriptedTrigger_CanSeeSectorDecisions = yes
			NOT = {
				MSK_Dissolution_ScriptedTrigger_IsInSector3 = yes
				MSK_Dissolution_ScriptedTrigger_Sector3Empty = yes
				MSK_Dissolution_ScriptedTrigger_AtWarWithSector3 = yes
			}
		}
		available = {
			OR = {
				AND = {
					any_neighbor_country = { MSK_Dissolution_ScriptedTrigger_IsInSector3 = yes }
					MSK_Dissolution_ScriptedTrigger_WonInOwnSector = yes
					has_war = no
				}
				check_variable = { global.MSK_Dissolution_Tags^num < 6 }
			}
			NOT = {
				has_decision = MSK_Dissolution_Decision_DealWithSector0
				has_decision = MSK_Dissolution_Decision_DealWithSector1
				has_decision = MSK_Dissolution_Decision_DealWithSector2
				has_decision = MSK_Dissolution_Decision_DealWithSector4
				has_decision = MSK_Dissolution_Decision_DealWithSector5
			}
		}
		ai_will_do = {
			base = 100
		}
		fire_only_once = yes
		
		complete_effect = {
			for_each_loop = {
				array = global.MSK_Dissolution_Tags_Sector_3
				MSK_Dissolution_DealWithSector = yes
			}
		}
	}
	MSK_Dissolution_Decision_DealWithSector4 = {
		icon = GFX_decision_generic_assault
		visible = {
			MSK_Dissolution_ScriptedTrigger_CanSeeSectorDecisions = yes
			NOT = {
				MSK_Dissolution_ScriptedTrigger_IsInSector4 = yes
				MSK_Dissolution_ScriptedTrigger_Sector4Empty = yes
				MSK_Dissolution_ScriptedTrigger_AtWarWithSector4 = yes
			}
		}
		available = {
			OR = {
				AND = {
					any_neighbor_country = { MSK_Dissolution_ScriptedTrigger_IsInSector4 = yes }
					MSK_Dissolution_ScriptedTrigger_WonInOwnSector = yes
					has_war = no
				}
				check_variable = { global.MSK_Dissolution_Tags^num < 6 }
			}
			NOT = {
				has_decision = MSK_Dissolution_Decision_DealWithSector0
				has_decision = MSK_Dissolution_Decision_DealWithSector1
				has_decision = MSK_Dissolution_Decision_DealWithSector2
				has_decision = MSK_Dissolution_Decision_DealWithSector3
				has_decision = MSK_Dissolution_Decision_DealWithSector5
			}
		}
		ai_will_do = {
			base = 100
		}
		fire_only_once = yes
		
		complete_effect = {
			for_each_loop = {
				array = global.MSK_Dissolution_Tags_Sector_4
				MSK_Dissolution_DealWithSector = yes
			}
		}
	}
	MSK_Dissolution_Decision_DealWithSector5 = {
		icon = GFX_decision_generic_assault
		visible = {
			MSK_Dissolution_ScriptedTrigger_CanSeeSectorDecisions = yes
			NOT = {
				MSK_Dissolution_ScriptedTrigger_IsInSector5 = yes
				MSK_Dissolution_ScriptedTrigger_Sector5Empty = yes
				MSK_Dissolution_ScriptedTrigger_AtWarWithSector5 = yes
			}
		}
		available = {
			OR = {
				AND = {
					any_neighbor_country = { MSK_Dissolution_ScriptedTrigger_IsInSector4 = yes }
					MSK_Dissolution_ScriptedTrigger_WonInOwnSector = yes
					has_war = no
				}
				check_variable = { global.MSK_Dissolution_Tags^num < 6 }
			}
			NOT = {
				has_decision = MSK_Dissolution_Decision_DealWithSector0
				has_decision = MSK_Dissolution_Decision_DealWithSector1
				has_decision = MSK_Dissolution_Decision_DealWithSector2
				has_decision = MSK_Dissolution_Decision_DealWithSector3
				has_decision = MSK_Dissolution_Decision_DealWithSector4
			}
		}
		ai_will_do = {
			base = 100
		}
		fire_only_once = yes
		
		complete_effect = {
			for_each_loop = {
				array = global.MSK_Dissolution_Tags_Sector_5
				MSK_Dissolution_DealWithSector = yes
			}
		}
	}

	# /// Inner-Sector Actions /// #
	MSK_Dissolution_Decision_Sector2_OZM_EatLUF = {
		visible = {
			tag = OZM
			LUF = {
				exists = yes
				has_non_aggression_pact_with = OZM
			}
		}
		available = {
			check_variable = { global.MSK_Dissolution_Tags_Sector_2^num = 2 }
		}
		ai_will_do = {
			base = 100
		}
		fire_only_once = yes
		complete_effect = {
			annex_country = { target = LUF transfer_troops = yes }
		}
	}
	MSK_Dissolution_Decision_Sector3_SNP_EatOZL = {
		visible = {
			tag = SNP
			OZL = { exists = yes }
		}
		available = {
			check_variable = { global.MSK_Dissolution_Tags_Sector_3^num = 2 }
		}
		ai_will_do = {
			base = 100
		}
		fire_only_once = yes
		complete_effect = {
			annex_country = { target = OZL transfer_troops = yes }
		}
	}
	MSK_Dissolution_Decision_Sector2_POV_EatPOP = {
		visible = {
			tag = POV
			POP = { exists = yes }
		}
		available = {
			check_variable = { global.MSK_Dissolution_Tags_Sector_5^num = 2 }
		}
		ai_will_do = {
			base = 100
		}
		fire_only_once = yes
		complete_effect = {
			annex_country = { target = POP transfer_troops = yes }
		}
	}

}